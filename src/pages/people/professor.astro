---
import SectionLayout from "../../layouts/SectionLayout.astro";
import type { MarkdownInstance } from "astro";

type FM = { name?: string };

const modules = import.meta.glob<MarkdownInstance<FM>>("/src/content/people/professor.md");
const loaders = Object.values(modules);

let name = "";
let Content: any = null;

if (loaders.length > 0) {
  const entry = (await loaders[0]()) as MarkdownInstance<FM>;
  name = (entry.frontmatter?.name ?? "").toString();
  Content = entry.Content;
}
---

<SectionLayout title="Professor">
  {Content ? (
    <article style="padding:16px; border:1px solid #eee; border-radius:14px; margin-top:24px;">
      {name && <h2 style="margin:0 0 12px 0;">{name}</h2>}
      <div style="line-height:1.7;">
        <Content />
      </div>
    </article>
  ) : (
    <p class="muted" style="margin-top:24px;">No professor profile yet.</p>
  )}
</SectionLayout>
